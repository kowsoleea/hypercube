\documentclass[10pt,a4paper,twoside,titlepage]{article}
%\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{fontspec}
\usepackage[hidelinks]{hyperref}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{pstricks}
\usepackage{leading}
\usepackage{parskip}

\setmainfont[Ligatures=TeX]{Palatino Linotype}

\author{Ivanildo Kowsoleea}
\title{Wie visualisiert man einen Hyperwürfel}

\newcommand{\myeq}[2]{
	\begin{equation}
		\begin{split}
			#1
		\end{split}
		\label{#2}
	\end{equation}
}

\newcommand{\colvec}[1]{$\begin{pmatrix}#1\end{pmatrix}$}

% makes an image
% arg1: filename of image
% arg2: caption
% arg3: label (for \autoref{} )
% arg4: width in cm
\newcommand{\image}[4]{
	\begin{figure}[!ht]
		\centering
		\includegraphics[width=#4cm]{#1}
		\caption{#2}
		#3
	\end{figure}
}

\newcommand{\psimg}[3]{
    \begin{figure}[!ht]
        \centering
        \input{#1}
        \caption{#2}
        #3
    \end{figure}
}

\begin{document}
\maketitle
\tableofcontents
\leading{13pt}

\section{Was ist ein Hyperwürfel?}
Ein Hyperwürfel ist ein Würfel in der vierten Dimension. Wie sieht so
ein Ding aus, und wie konstruiert man so etwas?

Um die Konstruktion besser zu verstehen fangen wir mit einem 0-dimen\-siona\-len
Würfel an: einen Punkt. Da wir hier nur einen Punkt zur Verfügung 
braucht man auch keine Koordinaten. Beim Übergang zum eindimensionalen Fall 
\textemdash\ ein Linienstück \textemdash\ nehmen wir den ursprünglichen Punkt
und vergeben die eindimensionale Koordinate $(0)$. Wir Kopieren diesen Punkt,
vergeben hier die Koordinate $(1)$, und verbinden beide Punkte mit einander.
Das jetzt entstandene Linienstück ist unser eindimensionaler Würfel.

\myeq{(0)\rightarrow (1)}{dim1}

Wir breiten jetzt aus zur zweiten Dimension. Das Linienstück in (1)
bekommt eine zweite Koordinate gleich 0:
\myeq{(0,0)\rightarrow (1,0)}{dim1in2}
Anschließend kopieren wir dieses Linienstück und geben der Kopie als zweite
Koordinate die 1. Danach verbinden wir jeden Punkt mit seiner Kopie.

\myeq{(0,0)\rightarrow (1,0)\\
	(0,1)\rightarrow(1,1)\\
	(0,0)\rightarrow(0,1)\\
	(1,0)\rightarrow(1,1)}{dim2}
	
Diese vier Linienstücke bilden ein Quadrat \textemdash\ die zweidimensionale
Variante des Würfels (siehe \autoref{quadrat} auf \autopageref{quadrat}).

\image{img/quadrat.eps}{Ein Quadrat}{\label{quadrat}}{5}

Genau so finden wir die Liniensegmente, die wir für ein Würfel (dreidimensional)
brauchen. Wir nehme die 4 Liniensegemnte aus (3) und versehen sie mit einer
dritten Koordinate die wir gleich 0 stellen. Danach nehmen wir wieder die 
Liniensegmente, diesmal aber mit der 1 als dritte Koordinate. Die 
vier Eckpunkte verbinden wir noch mit deren Kopien.

\myeq{(0,0,0)\rightarrow(1,0,0)\\
	(0,1,0)\rightarrow(1,1,0)\\
	(0,0,0)\rightarrow(0,1,0)\\
	(0,1,0)\rightarrow(1,1,0)\\
	\\
	(0,0,1)\rightarrow(1,0,1)\\
	(0,1,1)\rightarrow(1,1,1)\\
	(0,0,1)\rightarrow(0,1,1)\\
	(0,1,1)\rightarrow(1,1,1)\\
	\\
	(0,0,0)\rightarrow(0,0,1)\\
	(0,1,0)\rightarrow(0,1,1)\\
	(1,0,0)\rightarrow(1,0,1)\\
	(1,1,0)\rightarrow(1,1,1)
}{würfel}

\psimg{img/wuerfel.tex}{Ein dreidimensionaler Würfel}{\label{würfel1}}

Die 12 Liniensegmente wür den Würfel sind gegeben in (4). \autoref{würfel1} auf
\autopageref{würfel1} zeigt den Würfel nochmal.

Die Konstruktion des Hyperwürfels stellt jetzt kein Problem mehr da. Wir
versehen die 12 Liniensegmente aus (4) mit einer 4. Koordinate gleich 0.
Das wiederholen wir mit einer 4. Koordinate gleich 1 und verbinden die 8
Eckpunkte mit deren Kopien. Das Ergebnis ist:

\myeq{(0,0,0,0)\rightarrow(1,0,0,0);\
	(0,1,0,0)\rightarrow(1,1,0,0)\\
	(0,0,0,0)\rightarrow(0,1,0,0);\
	(0,1,0,0)\rightarrow(1,1,0,0)\\
	(0,0,1,0)\rightarrow(1,0,1,0);\
	(0,1,1,0)\rightarrow(1,1,1,0)\\
	(0,0,1,0)\rightarrow(0,1,1,0);\
	(0,1,1,0)\rightarrow(1,1,1,0)\\
	(0,0,0,0)\rightarrow(0,0,1,0);\
	(0,1,0,0)\rightarrow(0,1,1,0)\\
	(1,0,0,0)\rightarrow(1,0,1,0);\
	(1,1,0,0)\rightarrow(1,1,1,0)\\
	\\
	(0,0,0,1)\rightarrow(1,0,0,1);\
	(0,1,0,1)\rightarrow(1,1,0,1)\\
	(0,0,0,1)\rightarrow(0,1,0,1);\
	(0,1,0,1)\rightarrow(1,1,0,1)\\
	(0,0,1,1)\rightarrow(1,0,1,1);\
	(0,1,1,1)\rightarrow(1,1,1,1)\\
	(0,0,1,1)\rightarrow(0,1,1,1);\
	(0,1,1,1)\rightarrow(1,1,1,1)\\
	(0,0,0,1)\rightarrow(0,0,1,1);\
	(0,1,0,1)\rightarrow(0,1,1,1)\\
	(1,0,0,1)\rightarrow(1,0,1,1);\
	(1,1,0,1)\rightarrow(1,1,1,1)\\
	\\
	(0,0,0,0)\rightarrow(0,0,0,1);\
	(1,0,0,0)\rightarrow(1,0,0,1)\\
	(0,1,0,0)\rightarrow(0,1,0,1);\
	(1,1,0,0)\rightarrow(1,1,0,1)\\
	(0,0,1,0)\rightarrow(0,0,1,1);\
	(1,0,1,0)\rightarrow(1,0,1,1)\\
	(0,1,1,0)\rightarrow(0,1,1,1);\
	(1,1,1,0)\rightarrow(1,1,1,1)
}{hyperw}

Es ist leider nicht ohne weiteres Möglich, den Hyperwürfel zu zeichnen.
Ich möchte jedoch einen Versuch unternehmen, den vierdimensionalen Würfel
auf drei Dimensionen zu projizieren, damit eine Visualisation möglich wird.

\section{Die Projektion}
Betrachten wir den Fall wobei ein Punkt aus dem zweidimensionalen
Raum auf eine Linie (eindimensionaler Raum) projiziert wird.
Siehe \autoref{projektion1}.
    
\psimg{img/Projektion.tex}{Projektion von einem Punkt $P$ auf 
    eine Linie gegeben durch $\vec{e}$, gesehen von $V$ aus}
{\label{projektion1}}
	
Der eindimensionale Projektionsraum wird durch den Vektor
$\vec{e}$ bestimmt. Die Linie vom Ursprung nach $V$ steht 
senkrecht auf $\vec{e}$.
Jetzt muss $P'$ -- der Schnittpunkt der
Projektionslinie mit der Linie $VP$ -- ermittelt werden.

Der Projektionsraum $\vec{l}$ wird gegeben durch:
\myeq{\vec{l}=\lambda \vec{e}}{proj01}

Die Linie $VP$ als $\vec{m}$ ist gegeben durch:
\myeq{\vec{m}=\vec{v} + \mu(\vec{p}-\vec{v})}{proj02}

Den Schnittpunkt ermitteln wir, indem wir $\vec{l}$ und $\vec{m}$
einander gleich stellen:
\myeq{\lambda \vec{e} = \vec{v} + \mu(\vec{p}-\vec{v})}{proj03}


Jetzt nehmen wir von beiden Seiten der \autoref{proj03} das Vektorprodukt
mit $\vec{v}$
\myeq{\lambda(\vec{v}\cdot\vec{e}) = (\vec{v}\cdot\vec{v}) + \mu 
	(\vec{v}\cdot(\vec{p}-\vec{v}))}{proj05}

Weil $\vec{v}$ und $\vec{e}$ senkrecht aufeinander stehen, gilt:
\myeq{(\vec{v}\cdot\vec{e}) = 0}{proj04}

Die linke Seite der \autoref{proj05} ist also gleich 0. Der Wert von
$\mu$ ist leicht zu ermitteln:
\myeq{\mu = \frac{-(\vec{v}\cdot\vec{v})}
	{(\vec{v}\cdot(\vec{p}-\vec{v}))}}{proj06}
	
Der Punkt $P'$ ist nun festgelegt in dem man den gefundenen Wert
für $\mu$ in \autoref{proj02} einsetzt:
\myeq{P':\; \vec{p'} = \vec{v} -  \frac{(\vec{v}\cdot\vec{v})}
	{(\vec{v}\cdot(\vec{p}-\vec{v}))}(\vec{p}-\vec{v})}{proj07}

Die Ausbreitung auf höheren Dimensionen ist fast trivial. Betrachten wir
eine Projektion von drei auf zwei Dimensionen. Anstelle der Linie gegeben durch
\autoref{proj01} tritt jetzt eine Ebene gegeben durch 2 Vektoren
$\vec{e_1}$ und $\vec{e_2}$. Somit wird \autoref{proj03}:
\myeq{
	\lambda_1\vec{e_1} + \lambda_2\vec{e_2} = \vec{v} + \mu(\vec{p}-\vec{v})
}{proj08}

Weil beide Vektoren $\vec{e_1}$ und $\vec{e_2}$ senkrecht auf $\vec{v}$ stehen
wird nach Vektormultiplikation mit $\vec{v}$ die linke Seite der entstandene 
Gleichung wieder gleich 0. Der Wert von $\mu$ bleibt unverändert. Verallgemeinert
für eine Projektion von $n+1$ auf $n$ Dimensionen wird \autoref{proj03}:
\myeq{
	\sum_{i=1}^{n}\lambda_i\vec{e_i} = \vec{v} + \mu(\vec{p}-\vec{v})
}{proj09}
Weil alle $\vec{e_i}$ senkrecht stehen auf $\vec{v}$, gilt
\myeq{
	\sum_{i=1}^{n}\lambda_i (\vec{v}\cdot\vec{e_i})\;=0
}{proj10}
weshalb $\mu$ und $P'$ unverändert bleiben (siehe \autoref{proj06} und 
\autoref{proj07}). Wenn alle
Vektoren $\vec{e_i}$ die Länge 1 haben, und senkrecht aufeinander stehen
(Orthonormal) kann man die Koordinaten $p'_i$ von $P'$ im n-dimensionalen 
Raum mit
\myeq{
	p'_i = \vec{p'}\cdot\vec{e_i}
}{proj11}
ermitteln.

\section{Das Visualisieren des Hyperwürfels}
Die vorher erklärte Grundlagen wurden in einem "`Python"'-Programm 
festgelegt. Um einen ersten Eindruck zu bekommen, habe ich den Hyperwürfel
generieren lassen, und anschließend in 2 Schritten (von 4 auf 3 
und von 3 auf 2 Dimensionen) auf eine Ebene projizieren lassen. Das Ergebnis
ist in \autoref{hc0_0} zu sehen.

\psimg{python/hc0_0.tex}{Ein erster Eindruck des Hyperwürfels}{\label{hc0_0}}

Der Hyperwürfel wurde mit Koordinaten von -1 bis 1 generiert. 
Bei der Projektion von 4 auf 3 Dimensionen sind $\vec{e_1}, \vec{e_2}$ und 
$\vec{e_3}$ gleich \colvec{1\\0\\0\\0}, \colvec{0\\1\\0\\0} und \colvec{0\\0\\1\\0}. 
Der Standpunkt des Betrachters $\vec{v}$ ist \colvec{0\\0\\0\\10}. Somit 
schauen wir vom Zentrum einer Seite
von einer Distanz gleich 10 Einheiten, wobei der Würfelkante die Länge 2 hat.

Bei der anschließende Projektion von 3 auf 2 Dimensionen sind $\vec{e_1}$ und 
$\vec{e_2}$ gleich \colvec{1\\0\\0} und \colvec{0\\1\\0} und $ \vec{v} $ befindet 
sich am \colvec{0\\0\\20}.

\section{Eine Rotation}
Um einen besseren Eindruck zu bekommen, möchte ich den Hyperwürfel rotieren.
Ich werde zuerst die letzte Projektion anpassen. Es ist nicht nötig, den
Würfel zu rotieren. Es reicht, wenn ich die vektoren $\vec{e_1}$ und
$\vec{e_2}$ und $\vec{v}$ anpasse. Damit erspare ich mir das Rotieren der
16 Eckpunkte des Würfels.

Ich möchte den Würfel om 10° um die z-Achse drehen. Dazu muss ich alle Projektionsvektoren om -10° drehen. Die Rotationsmatrix wird also:
\myeq{ R_3 = 
    \begin{pmatrix}
        \cos(\alpha) & \sin(\alpha) & 0\\
        -\sin(\alpha) &\cos(\alpha) & 0\\
        0 & 0 & 1
    \end{pmatrix}
}{rot1}
wobei $\alpha = -10 \cdot \frac{\pi}{180}$

Die Vektoren $\vec{e_1}$, $\vec{e_2}$ und $\vec{v}$ werden:
\myeq{\vec{e^\prime_1} = R \vec{e_1},\  
    \vec{e^\prime_2} = R \vec{e_2},\ 
    \vec{v^\prime} = R \vec{v}}{rot2}

Das Ergebnis ist in \autoref{hc0_10} zu sehen.

\psimg{python/hc0_10.tex}{Der Hyperwürfel om 10° im dreidimensionalen 
    Raum gedreht}{\label{hc0_10}}

Es scheint, als befände sich ein kleinerer Würfel innerhalb 
eines Größeren.

Ich möchte jetzt sehen, wie sich eine Rotation in der vierten Dimension
auf den Hyperwürfel auswirkt. Ich entscheide mich für eine einfache
Rotation, wobei $x_1$ und $x_2$ invariant bleiben. Somit wird der 
Rotationsmatrix $R_4$:
\myeq{R_4 = 
    \begin{pmatrix}
         1&0&0&0\\
         0&1&0&0\\
        0&0&\cos(\beta)&\sin(\beta)\\
        0&0&-\sin(\beta)&\cos(\beta)\\
    \end{pmatrix}    
}{rot3}
Für verschiedene $\beta$
\end{document}